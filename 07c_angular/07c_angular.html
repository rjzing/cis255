
<!doctype html>
<html ng-app="app5" ng-cloak>
  <head>
    <title>07c Angular</title>
    <style>
    [ng\:cloak], [ng-cloak], .ng-cloak {
      display: none;
    }
    table{
      width: 400px;
      text-align: left;
      border: 2px solid black;
      padding: 10px;
    }
    input.ng-dirty.ng-invalid {
      border-color: red;
    }
    </style>
  </head>
  <body>

     <div ng-controller="userCtrl">

      <!-- Pass the user data to saveUser() -->
      <form  name="userForm" ng-submit="saveUser(userInfo)">
        <label>First Name:</label>

        <!-- Define that a value is required and it must be 2 characters in length or more -->
        <input type="text" name="fName" ng-model="userInfo.fName"
        ng-required="true" ng-minlength="2" />

        <!-- $dirty is set to true if a user interacts with a element and then we check if the elements required field is true -->
        <span class="error-message" ng-show="userForm.fName.$dirty
        && userForm.fName.$error.required">Must Enter a First Name
        </span>

        <!-- Check if the element has been edited and whether it contains at least 2 characters -->
        <span class="error-message" ng-show="userForm.fName.$dirty
          && userForm.fName.$error.minlength">Must be a Minimum of 2 Characters</span>

        <br><br>

        <label>Last Name:</label>

        <input type="text" name="lName" ng-model="userInfo.lName"
        ng-required="true" ng-minlength="2" />

        <span class="error-message" ng-show="userForm.lName.$dirty
        && userForm.lName.$error.required">Must Enter a Last Name
        </span>

        <span class="error-message" ng-show="userForm.lName.$dirty
          && userForm.lName.$error.minlength">Must be a Minimum of 2 Characters</span>

        
        <br><br>
			<!-- phone number -->
		<label>Phone Number:</label>

        <input type="text" name="phone" ng-model="userInfo.phone"
        ng-required="true" ng-minlength="13" ng-maxlength="13" placeholder="(555)555-5555"/>

        <span class="error-message" ng-show="userForm.phone.$dirty
        && userForm.phone.$error.required">Must be a Minimum of 13 Characters in format: (###)###-####
        </span>

        <span class="error-message" ng-show="userForm.phone.$dirty
          && userForm.phone.$error.minlength">Must be a Minimum of 13 Characters in format: (###)###-####</span>

        <br><br>	
	<!-- email -->
		<label>Email:</label>

        <input type="text" name="email" ng-model="userInfo.email"
        ng-required="true" ng-minlength="11" placeholder="user@sample.com" />

        <span class="error-message" ng-show="userForm.email.$dirty
        && userForm.email.$error.required">Must be a Minimum of 8 Characters and format: xxx@xxx.xxx
        </span>

        <span class="error-message" ng-show="userForm.email.$dirty
          && userForm.email.$error.minlength">Must be a Minimum of 8 Characters and format: xxx@xxx.xxx</span>

        <br><br>
		
	<!-- city -->
        <label>City:</label>
        <input type="text" name="city" ng-model="userInfo.city"  readonly="readonly">
		<br><br>
		
	<!-- state -->
		<label>State:</label>
        <input type="text" name="state" ng-model="userInfo.state"  readonly="readonly">
		<br><br>
		
	<!-- zip code -->
		<label>Zip Code:</label>
		
		<input type="text" name="zip" ng-model="userInfo.zip"
        ng-required="true" ng-minlength="5" ng-pattern="^\d{5}$" ng-change="getLocation(userInfo)" />

        <span class="error-message" ng-show="userForm.zip.$dirty
        && userForm.zip.$error.required">Must Enter a valid zipcode
        </span>

        <span class="error-message" ng-show="userForm.zip.$dirty
          && userForm.zip.$error.minlength">Must Enter a valid Zipcode</span>

        <br><br>		
	
        <!-- Disable the button until every element in the form is valid -->
        <input type="submit" value="Save" ng-disabled="userForm.$invalid"/>

        <!-- Output new users -->
        <p>
			Valid Zipcodes: 48710, 48103, 48138, 48197, 48397
			<br><br>
			Results:
			
		</p>
		
	<ul>
        <li ng-repeat = "item in user">
          {{ 'User: ' + item.fName + " " + item.lName + "    Phone: " + item.phone +
            "    Email: " + item.email + "    City:" + item.city + "    State:" + item.state + "    Zipcode: " + item.zip}}
        </li>
      </ul>
    </div> <!-- End of userCtrl -->

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
    <script src="07c_angular.js"></script> 

  </body>
</html>